!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e){e.exports=JSON.parse('{"a":"Wed, 05 Feb 2020 17:53:01 GMT"}')},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t);var o=!0,s=!0,r=!0,a=20,h=20,c=8,d=100,l=20,u=1,v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,v;return t=e,v=[{key:"truthyBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getFormmatedOptions(t,n),o="M ".concat(i.strokeWidth/2,",").concat(4+i.strokeWidth/2),s="a 4 4 0 0 1 4,-4",r="a 4 4 0 0 0 -4,4",a="a 4 4 0 0 0 4,4",h="a 4 4 0 0 1 4,4",c="a 4 4 0 0 1 -4,4",d="a 4 4 0 0 1 -4,-4",l="v".concat(i.truthyHeight-8),u="h 8",v="h -8",p="v 24",_="v".concat(i.lineHeight+i.strokeWidth),y="h".concat(64-i.totalWidth+i.strokeWidth),f="h".concat(i.totalWidth-64-i.strokeWidth),m="h".concat(i.totalWidth-52-i.strokeWidth),g="h".concat(52-i.totalWidth+i.strokeWidth),C="c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2",k="h 36",w="c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h-12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2",x="h -36",b="z",H=o+s+u+C+m+h+_+c+y+w+v+r+l+a+u+(i.truthy?C:k)+f+h+p+c+g+(i.next?w:x)+v+d+b,W=i.totalWidth,N=i.truthyHeight+i.lineHeight+2*i.strokeWidth+(i.next?48:40);return{path:H,dimensions:{width:"".concat(W,"px"),height:"".concat(N,"px"),"stroke-width":"".concat(i.strokeWidth,"px"),fittingHeight:N-(i.next?8:0)-i.strokeWidth,description:{width:i.totalWidth-2*i.strokeWidth,height:i.lineHeight,top:i.strokeWidth+8,left:i.strokeWidth},truthy:{width:i.totalWidth-12,height:i.truthyHeight+i.strokeWidth,top:i.lineHeight+8+i.strokeWidth,left:12},next:i.next?{width:i.totalWidth,height:i.nextHeight+i.strokeWidth,top:N-(i.next?8:0)-i.strokeWidth,left:0}:void 0}}}},{key:"truthyFalsyBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getFormmatedOptions(t,n),o="M ".concat(i.strokeWidth/2,",").concat(4+i.strokeWidth/2),s="a 4 4 0 0 1 4,-4",r="a 4 4 0 0 0 -4,4",a="a 4 4 0 0 0 4,4",h="a 4 4 0 0 1 4,4",c="a 4 4 0 0 1 -4,4",d="a 4 4 0 0 1 -4,-4",l="v".concat(i.truthyHeight-8),u="v".concat(i.falsyHeight-8),v="h 8",p="h -8",_="v 24",y="v".concat(i.lineHeight+i.strokeWidth),f="h".concat(64-i.totalWidth+i.strokeWidth),m="h".concat(i.totalWidth-64-i.strokeWidth),g="h".concat(i.totalWidth-52-i.strokeWidth),C="h".concat(52-i.totalWidth+i.strokeWidth),k="c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2",w="h 36",x="c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h-12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2",b="z",H=o+s+v+k+g+h+y+c+f+x+p+r+l+a+v+(i.truthy?k:w)+m+h+_+c+f+x+p+r+u+a+v+(i.falsy?k:w)+m+h+_+c+C+x+p+d+b,W=i.totalWidth,N=i.truthyHeight+i.falsyHeight+i.lineHeight+2*i.strokeWidth+80;return{path:H,dimensions:{width:"".concat(W,"px"),height:"".concat(N,"px"),fittingHeight:N-8-i.strokeWidth,"stroke-width":"".concat(i.strokeWidth,"px"),description:{width:i.totalWidth-2*i.strokeWidth,height:i.lineHeight,top:i.strokeWidth+8,left:i.strokeWidth},truthy:{width:i.totalWidth-12,height:i.truthyHeight+i.strokeWidth,top:i.lineHeight+8+i.strokeWidth,left:12},falsy:{width:i.totalWidth-12,height:i.falsyHeight+i.strokeWidth,top:i.lineHeight+8+i.truthyHeight+i.strokeWidth+32,left:12},next:{width:i.totalWidth,height:i.nextHeight+i.strokeWidth,top:N-8-i.strokeWidth,left:0}}}}},{key:"statement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getFormmatedOptions(t,n),o="M ".concat(i.strokeWidth/2,",").concat(4+i.strokeWidth/2),s="a 4 4 0 0 1 4,-4",r="a 4 4 0 0 1 4,4",a="a 4 4 0 0 1 -4,4",h="a 4 4 0 0 1 -4,-4",c="h 8",d="h -8",l="v".concat(i.lineHeight+i.strokeWidth),u="h".concat(i.totalWidth-52-i.strokeWidth),v="h".concat(52-i.totalWidth+i.strokeWidth),p="c 2,0 3,1 4,2 l 4,4 c 1,1 2,2 4,2 h12 c 2,0 3,-1 4,-2 l 4,-4 c 1,-1 2,-2 4,-2",_="c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h-12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2",y="h -36",f="z",m=o+s+c+p+u+r+l+a+v+(i.next?_:y)+d+h+f,g=i.totalWidth,C=i.lineHeight+2*i.strokeWidth+(i.next?16:8);return{path:m,dimensions:{width:"".concat(g,"px"),height:"".concat(C,"px"),fittingHeight:C-(i.next?8:0)-i.strokeWidth,"stroke-width":"".concat(i.strokeWidth,"px"),description:{width:i.totalWidth-2*i.strokeWidth,height:i.lineHeight,top:i.strokeWidth+8,left:i.strokeWidth},next:i.next?{width:i.totalWidth,height:i.nextHeight+i.strokeWidth,top:C-(i.next?8:0)-i.strokeWidth,left:0}:void 0}}}},{key:"event",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getFormmatedOptions(t,n),o="M ".concat(i.strokeWidth/2,",").concat(17+i.strokeWidth/2),s="c 25,-22 71,-22 96,0",r="a 4 4 0 0 1 4,4",a="a 4 4 0 0 1 -4,4",h="a 4 4 0 0 1 -4,-4",c="h -8",d="v".concat(i.lineHeight-4),l="h".concat(i.totalWidth-100-i.strokeWidth),u="h".concat(52-i.totalWidth+i.strokeWidth),v="c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h-12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2",p="z",_=o+s+l+r+d+a+u+v+c+h+p,y=i.totalWidth,f=i.lineHeight+29+i.strokeWidth;return{path:_,dimensions:{width:"".concat(y,"px"),height:"".concat(f,"px"),fittingHeight:f-8-i.strokeWidth,"stroke-width":"".concat(i.strokeWidth,"px"),description:{width:i.totalWidth-2*i.strokeWidth,height:i.lineHeight,top:i.strokeWidth+20,left:i.strokeWidth},next:{width:i.totalWidth,height:i.nextHeight+i.strokeWidth,top:f-8-i.strokeWidth,left:0}}}}},{key:"function",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.getFormmatedOptions(t,n),o="M ".concat(i.strokeWidth/2,",").concat(20+i.strokeWidth/2),s="a 20 20 0 0 1 20,-20",r="a 20 20 0 0 1 20,20",a="a 4 4 0 0 1 -4,4",h="a 4 4 0 0 1 -4,-4",c="h -8",d="v".concat(i.lineHeight-6),l="h".concat(i.totalWidth-40-i.strokeWidth),u="h".concat(52-i.totalWidth+i.strokeWidth),v="c -2,0 -3,1 -4,2 l -4,4 c -1,1 -2,2 -4,2 h-12 c -2,0 -3,-1 -4,-2 l -4,-4 c -1,-1 -2,-2 -4,-2",p="z",_=o+s+l+r+d+a+u+v+c+h+p,y=i.totalWidth,f=i.lineHeight+i.strokeWidth+26;return{path:_,dimensions:{width:"".concat(y,"px"),height:"".concat(f,"px"),fittingHeight:f-8-i.strokeWidth,"stroke-width":"".concat(i.strokeWidth,"px"),description:{width:i.totalWidth-2*i.strokeWidth,height:i.lineHeight,top:i.strokeWidth+17,left:i.strokeWidth},next:{width:i.totalWidth,height:i.nextHeight+i.strokeWidth,top:f-8-i.strokeWidth,left:0}}}}},{key:"getFormmatedOptions",value:function(e,t){var n=t.fitting||{},i=t.attributes||{};return{nextHeight:e.nextHeight||c,totalWidth:parseInt(i.style.width,10)||d,lineHeight:parseInt(i.style["line-height"],10)||l,strokeWidth:parseInt(i.style["stroke-width"],10)||u,truthyHeight:e.truthyHeight||a,falsyHeight:e.falsyHeight||h,next:void 0===n.next?r:n.next,truthy:void 0===n.truthy?o:n.truthy,falsy:void 0===n.falsy?s:n.falsy}}}],(n=null)&&i(t.prototype,n),v&&i(t,v),e}();function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"createNodeElement",value:function(e){var t=document.createElement("div");return t.innerHTML=e,1===t.children.length?t.children[0]:t.children}},{key:"isTouch",value:function(){var e=" -webkit- -moz- -o- -ms- ".split(" "),t=window.matchMedia?function(e){return window.matchMedia(e).matches}:void 0;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var n=["(",e.join("touch-enabled),("),"heartz",")"].join("");return!!t&&t(n)}}],(n=null)&&p(t.prototype,n),i&&p(t,i),e}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"deepCopy",value:function(t,n){Object.keys(n).forEach((function(i){e.isArray(n[i])?t[i]=n[i].map((function(e){return e})):e.isObject(n[i])?e.deepCopy(t[i]={},n[i]):t[i]=n[i]}))}},{key:"merge",value:function(t,n){Object.keys(n).forEach((function(i){e.isObject(n[i])?(e.isObject(t[i])||(t[i]={}),e.merge(t[i],n[i])):t[i]=n[i]}))}},{key:"toArray",value:function(e){return e?Object.keys(e).map((function(t){return e[t]})):e}},{key:"deepClone",value:function(t){var n={};return e.deepCopy(n,t),n}},{key:"isObject",value:function(e){return null!==e&&"object"===y(e)&&!Array.isArray(e)}},{key:"isArray",value:function(e){return Array.isArray(e)&&"object"===y(e)}},{key:"hasTheSamePropertiesAndValues",value:function(t,n){if("object"!==y(t)||"object"!==y(n)||!t||!n)return t===n;var i=e.toArray(t),o=e.toArray(n);if(i.length!==o.length)return!1;var s=i.map((function(t,n){return e.hasTheSamePropertiesAndValues(t,o[n])}));return!s||!s.length||s.reduce((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return t&&e}))}}],(n=null)&&f(t.prototype,n),i&&f(t,i),e}();function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"isContainerCoincident",value:function(t,n){return!(!t||!n)&&e.isHorizontalCoincident(t,n)&&e.isVerticalCoincident(t,n)}},{key:"isHorizontalCoincident",value:function(t,n){var i={start1:t.left,end1:t.right,start2:n.left,end2:n.right};return e.isLineCoincident(i)}},{key:"isVerticalCoincident",value:function(t,n){var i={start1:t.top,end1:t.bottom,start2:n.top,end2:n.bottom};return e.isLineCoincident(i)}},{key:"isLineCoincident",value:function(e){var t=e.start1,n=e.start2,i=e.end1,o=e.end2;return t<=n&&i>=n||t<=o&&i>=o||n<=t&&i<=o}},{key:"isValidShapeName",value:function(e){return"string"==typeof e&&"function"==typeof v[e]}},{key:"createComponentHTML",value:function(t,n,i){var o=m.deepClone(i.attributes);m.merge(o.style,n);var s=e.createStringOfAttributes(o.style,": ","; "),r=e.createStringOfAttributes(o,'="','" ','"'),a=e.createContainers(n);return"<div ".concat(r,' style="').concat(s,'">')+'<svg style="width: 100%; height: 100%">'+'<path d="'.concat(t,'" /></svg>')+"".concat(a,"</div></div>")}},{key:"createContainers",value:function(t){return e.createContainerHTML("scratch-previous-container",{height:1,width:t.width})+e.createContainerHTML("scratch-description-container",t.description)+e.createContainerHTML("scratch-truthy-container",t.truthy)+e.createContainerHTML("scratch-falsy-container",t.falsy)+(t.next?'<div class="scratch-next-container" '+'style="width: 100%; height: '.concat(t.next.height,"px; ")+"top: ".concat(t.fittingHeight,"px; ")+'left: 0px; position: absolute;">':"")}},{key:"createContainerHTML",value:function(e,t){return t?'<div class="'.concat(e||"",'" style="position: absolute; ')+"width: ".concat(t.width||0,"px; ")+"height: ".concat(t.height||0,"px; ")+"top: ".concat(t.top||0,"px; ")+"left: ".concat(t.left||0,'px"></div>'):""}},{key:"createStringOfAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object.keys(e).map((function(n){return"string"==typeof e[n]?"".concat(n+t+e[n]):""})).filter((function(e){return""!==e})).join(n)+i}},{key:"updateContainerDimensions",value:function(e,t,n){e.style.setProperty("top","".concat(n.top,"px"))}},{key:"getContainerTopLeftOffset",value:function(e){return{top:parseInt(e.style.top,10)||0,left:parseInt(e.style.left,10)||0}}}],(n=null)&&g(t.prototype,n),i&&g(t,i),e}(),k={attributes:{class:"",id:"",style:{position:"absolute",width:"120px","stroke-width":"1px","line-height":"24px"}},fitting:{truthy:!0,falsy:!0,next:!0},propagateClassNameToNestedElements:!1,isPreview:!1};function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var b=[],H=_.isTouch(),W=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(this,e),C.isValidShapeName(t))this._shapeNameConstructor(t,n);else{if(!(t instanceof e))throw new Error("Invalid shapeNameOrComponentInstance");this._componentInstanceConstructor(t,n)}this._opt.isPreview||(b.push(this),this._id=b.length)}var t,n,i;return t=e,(n=[{key:"_shapeNameConstructor",value:function(e,t){this._initializeProperties(e),this._assingOptions(t),this._createDOMNode(e),this._createNodeShortcuts(),this._assignCoincidenceHandlers(),this._assignReverseCoincidenceHandlers(),this._allowElementToBeCoincidentWithOthers(),this._assignMovementHandler()}},{key:"_componentInstanceConstructor",value:function(e,t){this._initializeProperties(e._shapeName),this._copyAndAssignOptionsFromComponent(e,t),this._createDOMNode(this._shapeName),this._createNodeShortcuts(),this._allowElementToBeCoincidentWithOthers(),this._createNestedComponents(e),this._assignCoincidenceHandlers(),this._assignReverseCoincidenceHandlers(),this._assignMovementHandler()}},{key:"_initializeProperties",value:function(e){this._shapeName=e,this._DOMNode=null,this._svg=null,this._truthy=null,this._falsy=null,this._next=null,this._parent=null,this._id=0,this._opt={},this._containers={},this._dimensions={},this._preview={},this._addElements={},this._lastCoincidence={},this._lastReverseCoincidence={},this._resizeListeners=[],this._handleContainerCoincidence={},this._truthyResizeHandlerBinded=this._truthyResizeHandler.bind(this),this._falsyResizeHandlerBinded=this._falsyResizeHandler.bind(this),this._nextResizeHandlerBinded=this._nextResizeHandler.bind(this),this._movementHandlerBinded=this._movementHandler.bind(this)}},{key:"_assingOptions",value:function(e){m.merge(this._opt,k),m.merge(this._opt,e)}},{key:"_copyAndAssignOptionsFromComponent",value:function(e,t){m.deepCopy(this._opt,e._opt),m.merge(this._opt,t)}},{key:"_createDOMNode",value:function(e){var t=v[e](this._dimensions,this._opt),n=t.path,i=t.dimensions,o=C.createComponentHTML(n,i,this._opt);this._DOMNode=_.createNodeElement(o),m.merge(this._dimensions,i)}},{key:"_createNodeShortcuts",value:function(){var e=this._DOMNode.children,t=e.length;this._svg=e[0],this._path=this._svg.children[0],this._containers.description=e[2],t>3&&(this._containers.truthy=e[3].className.includes("truthy")?e[3]:null),t>4&&(this._containers.falsy=e[4].className.includes("falsy")?e[4]:null),this._containers.next=e[t-1].className.includes("next")?e[t-1]:null}},{key:"_assignCoincidenceHandlers",value:function(){var e=this;this._handleContainerCoincidence={truthy:function(t){t._truthy||(e._removeAnyPreviewContainer(),t.addTruthy(e._preview.component),e._preview.removeMethod=t.removeTruthy.bind(t))},falsy:function(t){t._falsy||(e._removeAnyPreviewContainer(),t.addFalsy(e._preview.component),e._preview.removeMethod=t.removeFalsy.bind(t))},next:function(t){t._next||(e._removeAnyPreviewContainer(),t.addNext(e._preview.component),e._preview.removeMethod=t.removeNext.bind(t))}}}},{key:"_assignReverseCoincidenceHandlers",value:function(){var e=this;this._handleReverseContainerCoincidence={truthy:function(t){e._preview.component._truthy!==t&&(e._removeAnyPreviewContainer(),e._positionPreviewComponent(t,"truthy"),e._preview.component.addTruthy(t)&&(e._preview.reverseRemoveMethod=e._preview.component.removeTruthy.bind(e._preview.component),document.body.appendChild(e._preview.component._DOMNode)))},falsy:function(t){e._preview.component._falsy!==t&&(e._removeAnyPreviewContainer(),e._positionPreviewComponent(t,"falsy"),e._preview.component.addFalsy(t)&&(e._preview.reverseRemoveMethod=e._preview.component.removeFalsy.bind(e._preview.component),document.body.appendChild(e._preview.component._DOMNode)))},next:function(t){e._preview.component._next!==t&&(e._removeAnyPreviewContainer(),e._positionPreviewComponent(t,"next"),e._preview.component.addNext(t)&&(e._preview.reverseRemoveMethod=e._preview.component.removeNext.bind(e._preview.component),document.body.appendChild(e._preview.component._DOMNode)))}}}},{key:"_allowElementToBeCoincidentWithOthers",value:function(){this._addElements={truthy:this._containers.truthy,falsy:this._containers.falsy,next:this._containers.next,previous:"function"!==this._shapeName&&"event"!==this._shapeName}}},{key:"_assignMovementHandler",value:function(){var e=H?"touchstart":"mousedown";this._path.addEventListener(e,this._movementHandlerBinded),this._containers.description.addEventListener(e,this._movementHandlerBinded),this._updateMovementEventListeners()}},{key:"_updateMovementEventListeners",value:function(){if(H){var e=this._containers,t=e.truthy,n=e.falsy;t&&(this._truthy?t.removeEventListener("touchstart",this._movementHandlerBinded):t.addEventListener("touchstart",this._movementHandlerBinded)),n&&(this._falsy?n.removeEventListener("touchstart",this._movementHandlerBinded):n.addEventListener("touchstart",this._movementHandlerBinded))}}},{key:"_movementHandler",value:function(e){var t=this,n=e.touches?e.touches[0]:e,i=n.clientX,o=n.clientY,s=this._DOMNode.getBoundingClientRect(),r=s.top,a=s.left;this._DOMNode.setAttribute("data-grabbing",!0);var h=function(e){var n=e.touches?e.touches[0]:e,s=n.clientX,h=n.clientY;t._DOMNode.parentElement!==document.body&&(document.body.appendChild(t._DOMNode),t._parent.removeChild(t));var c=s-i,d=h-o;t._DOMNode.style.setProperty("left","".concat(c+a,"px")),t._DOMNode.style.setProperty("top","".concat(d+r,"px")),t._checkForCoincidence()};window.addEventListener(H?"touchmove":"mousemove",h),window.addEventListener(H?"touchend":"mouseup",(function e(){window.removeEventListener(H?"touchmove":"mousemove",h),window.removeEventListener(H?"touchend":"mouseup",e),t._DOMNode.setAttribute("data-grabbing",!1),t._finishPreviewComponent()}))}},{key:"_createNestedComponents",value:function(t){var n={attributes:{class:this._opt.propagateClassNameToNestedElements?this._opt.attributes.class:""},isPreview:this._opt.isPreview};t._truthy&&this.addTruthy(new e(t._truthy,n)),t._falsy&&this.addFalsy(new e(t._falsy,n)),t._next&&this.addNext(new e(t._next,n))}},{key:"_removeAnyPreviewContainer",value:function(){this._removePreviewContainer(),this._removeReversePreviewContainer()}},{key:"_removePreviewContainer",value:function(){this._preview.removeMethod&&(this._preview.removeMethod(this._preview.component),this._preview.removeMethod=null)}},{key:"_removeReversePreviewContainer",value:function(){if(this._preview.reverseRemoveMethod){var e=this._getNestedComponentToBeRemovedFromPreview(),t=e._DOMNode.getBoundingClientRect(),n=t.top,i=t.left;e._DOMNode.style.setProperty("top","".concat(n,"px")),e._DOMNode.style.setProperty("left","".concat(i,"px")),this._preview.reverseRemoveMethod(this._preview.component),this._preview.reverseRemoveMethod=null,document.body.appendChild(e._DOMNode),e._parent=null,document.body.removeChild(this._preview.component._DOMNode)}}},{key:"_getNestedComponentToBeRemovedFromPreview",value:function(){var e=this._preview.component,t=e._truthy,n=e._falsy,i=e._next;return t&&!t._opt.isPreview?t:n&&!n._opt.isPreview?n:i&&!i._opt.isPreview?i:null}},{key:"_positionPreviewComponent",value:function(e,t){var n=this._preview.component,i=C.getContainerTopLeftOffset(n._containers[t]),o=e._DOMNode.getBoundingClientRect(),s=o.top,r=o.left;n._DOMNode.style.setProperty("top","".concat(s-i.top,"px")),n._DOMNode.style.setProperty("left","".concat(r-i.left,"px"))}},{key:"_createPreviewComponent",value:function(){this._preview.component=new e(this,{attributes:{class:"shadow",style:{top:"0px",left:"0px"}},propagateClassNameToNestedElements:!0,isPreview:!0})}},{key:"_checkForCoincidence",value:function(){this._preview.component||this._createPreviewComponent(),this._lastCoincidence.found=this._getAndHandleCoincidentComponent(),this._lastCoincidence.found||(this._checkForReverseCoincidence(),this._preview.component&&this._removePreviewContainer())}},{key:"_finishPreviewComponent",value:function(){var e=this._next;e&&e._lastReverseCoincidence.found?(e._handleReverseCoincidentComponent(),this.addNext(e)):this._lastCoincidence.found?this._handleCoincidentComponent():this._lastReverseCoincidence.found&&this._handleReverseCoincidentComponent(),b.forEach((function(e){return e._preview.component=null}))}},{key:"_getAndHandleCoincidentComponent",value:function(){for(var e=this.getHitContainer(),t=0;t<b.length;t+=1)if(this._addElements.previous&&this._handleComponentCoincidence(b[t],e))return b[t];return null}},{key:"_handleComponentCoincidence",value:function(e,t){if(this._isDescendantOrTheSameComponent(e)||e._opt.isPreview)return!1;var n=e.getContainerCoincidences(t),i=Object.keys(n).find((function(e){return n[e]}));return!!i&&(this._handleContainerCoincidence[i](e),this._lastCoincidence.containerName=i,!0)}},{key:"_isDescendantOrTheSameComponent",value:function(e){return e===this||this._truthy===e||this._falsy===e||this._next===e||!(!this._truthy||!this._truthy._isDescendantOrTheSameComponent(e))||!(!this._falsy||!this._falsy._isDescendantOrTheSameComponent(e))||!(!this._next||!this._next._isDescendantOrTheSameComponent(e))}},{key:"_checkForReverseCoincidence",value:function(){this._preview.component||this._createPreviewComponent(),this._lastReverseCoincidence.found=this._getAndHandleReverseCoincidentComponent(),this._lastReverseCoincidence.found||this._removeReversePreviewContainer(),this._next&&(this._lastReverseCoincidence.found=this._next._checkForReverseCoincidence())}},{key:"_getAndHandleReverseCoincidentComponent",value:function(){for(var e=0;e<b.length;e+=1)if(b[e]._addElements.previous&&this._handleReverseComponentCoincidence(b[e]))return b[e];return null}},{key:"_handleReverseComponentCoincidence",value:function(e){return!(this._isDescendantOrTheSameComponent(e)||e._opt.isPreview||e._parent&&!e._parent._opt.isPreview||e===this._parent||!this.getContainerCoincidences(e.getHitContainer()).next||this._next||(this._handleReverseContainerCoincidence.next(e),this._lastReverseCoincidence.containerName="next",0))}},{key:"_handleCoincidentComponent",value:function(){var e=this._lastCoincidence.containerName;"truthy"===e?(this._removePreviewContainer(),this._lastCoincidence.found.addTruthy(this)):"falsy"===e?(this._removePreviewContainer(),this._lastCoincidence.found.addFalsy(this)):"next"===e&&(this._removePreviewContainer(),this._lastCoincidence.found.addNext(this))}},{key:"_handleReverseCoincidentComponent",value:function(){var e=this._preview.component._DOMNode.getBoundingClientRect(),t=e.top,n=e.left;this._DOMNode.style.setProperty("top","".concat(t,"px")),this._DOMNode.style.setProperty("left","".concat(n,"px"));var i=this._lastReverseCoincidence.containerName;"truthy"===i?(this._removeReversePreviewContainer(),this.addTruthy(this._lastReverseCoincidence.found)):"falsy"===i?(this._removeReversePreviewContainer(),this.addFalsy(this._lastReverseCoincidence.found)):"next"===i&&(this._removeReversePreviewContainer(),this.addNext(this._lastReverseCoincidence.found))}},{key:"_clearComponentAbsoluteCoordinates",value:function(){this._DOMNode.style.setProperty("top","0px"),this._DOMNode.style.setProperty("left","0px")}},{key:"_truthyResizeHandler",value:function(t){t instanceof e&&this._resize({truthyHeight:t._getFittingHeight()})}},{key:"_falsyResizeHandler",value:function(t){t instanceof e&&this._resize({falsyHeight:t._getFittingHeight()})}},{key:"_nextResizeHandler",value:function(t){t instanceof e&&this._resize({nextHeight:t._getFittingHeight()})}},{key:"_resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.merge(this._dimensions,e),this._updateFittingVisibility();var t=v[this._shapeName](this._dimensions,this._opt),n=t.path,i=t.dimensions;this._DOMNode.style.setProperty("width",i.width),this._DOMNode.style.setProperty("height",i.height),this._svg.children[0].setAttribute("d",n),this._updateContainerDimensions(i),m.merge(this._dimensions,i),this._callResizeListeners()}},{key:"_updateFittingVisibility",value:function(){this._opt.fitting.truthy=!this._truthy||this._truthy._getNextFitting(),this._opt.fitting.falsy=!this._falsy||this._falsy._getNextFitting()}},{key:"_getNextFitting",value:function(){return this._next?this._next._getNextFitting():this._opt.fitting.next}},{key:"_getFittingHeight",value:function(){return this._dimensions.fittingHeight+(this._next?this._next._getFittingHeight():0)}},{key:"_updateContainerDimensions",value:function(e){var t=e.truthy,n=e.falsy,i=e.next;this._containers.truthy&&t&&C.updateContainerDimensions(this._containers.truthy,i,t),this._containers.falsy&&n&&C.updateContainerDimensions(this._containers.falsy,i,n),this._containers.next&&this._containers.next.style.setProperty("top","".concat(e.fittingHeight,"px"))}},{key:"_callResizeListeners",value:function(){var e=this;this._resizeListeners.forEach((function(t){return t(e)}))}},{key:"addTruthy",value:function(t){return!(!(t instanceof e&&this._addElements.truthy)||t._isDescendantOrTheSameComponent(this)||this._truthy||(t._parent&&t._parent.removeChild(t),this.removeTruthy(),this._truthy=t,this._truthy._parent=this,this._containers.truthy.appendChild(t._DOMNode),t._clearComponentAbsoluteCoordinates(),this._resize({truthyHeight:t._getFittingHeight()}),t.addResizeListener(this._truthyResizeHandlerBinded),this._updateMovementEventListeners(),0))}},{key:"removeTruthy",value:function(){return!!this._truthy&&(this._containers.truthy.children.length&&this._containers.truthy.removeChild(this._containers.truthy.children[0]),this._truthy.removeResizeListener(this._truthyResizeHandlerBinded),this._truthy._parent=null,this._truthy=null,delete this._dimensions.truthyHeight,this._resize(),this._updateMovementEventListeners(),!0)}},{key:"addFalsy",value:function(t){return!(!(t instanceof e&&this._addElements.falsy)||t._isDescendantOrTheSameComponent(this)||this._falsy||(t._parent&&t._parent.removeChild(t),this.removeFalsy(),this._falsy=t,this._falsy._parent=this,this._containers.falsy.appendChild(t._DOMNode),t._clearComponentAbsoluteCoordinates(),this._resize({falsyHeight:t._getFittingHeight()}),t.addResizeListener(this._falsyResizeHandlerBinded),this._updateMovementEventListeners(),0))}},{key:"removeFalsy",value:function(){return!!this._falsy&&(this._containers.falsy.children.length&&this._containers.falsy.removeChild(this._containers.falsy.children[0]),this._falsy.removeResizeListener(this._falsyResizeHandlerBinded),this._falsy._parent=null,this._falsy=null,delete this._dimensions.falsyHeight,this._resize(),this._updateMovementEventListeners(),!0)}},{key:"addNext",value:function(t){return!!(t instanceof e&&this._addElements.next&&!t._isDescendantOrTheSameComponent(this)&&t._addElements.previous)&&(t._parent&&t._parent.removeChild(t),this.removeNext(),this._next=t,this._next._parent=this,this._containers.next.appendChild(t._DOMNode),t._clearComponentAbsoluteCoordinates(),this._resize({nextHeight:t._getFittingHeight()}),t.addResizeListener(this._nextResizeHandlerBinded),this._updateMovementEventListeners(),!0)}},{key:"removeNext",value:function(){return!!this._next&&(this._containers.next.children.length&&this._containers.next.removeChild(this._containers.next.children[0]),this._next.removeResizeListener(this._nextResizeHandlerBinded),this._next._parent=null,this._next=null,this._resize({nextHeight:0}),this._updateMovementEventListeners(),!0)}},{key:"removeChild",value:function(e){return e===this._truthy?this.removeTruthy(e):e===this._falsy?this.removeFalsy(e):e===this._next&&this.removeNext(e)}},{key:"addResizeListener",value:function(e){for(var t=0,n=this._resizeListeners.length;t<n;t+=1)if(this._resizeListeners[t]===e)return;this._resizeListeners.push(e)}},{key:"removeResizeListener",value:function(e){for(var t=this._resizeListeners.length-1;t>=0;t-=1)if(this._resizeListeners[t]===e){this._resizeListeners.splice(t,1);break}}},{key:"getDOMNode",value:function(){return this._DOMNode}},{key:"getDimensions",value:function(){return{width:this._dimensions.width,height:this._dimensions.height}}},{key:"getShapeName",value:function(){return this._shapeName}},{key:"getChildren",value:function(){return{truthy:this._truthy,falsy:this._falsy,next:this._next}}},{key:"getParent",value:function(){return this._parent}},{key:"getHitContainer",value:function(){var e=this._DOMNode.getBoundingClientRect(),t=e.top;return{top:t,bottom:t+10,right:e.right,left:e.left}}},{key:"getContainerCoincidences",value:function(e){var t=this._getContainerPositions(),n=t.truthy,i=t.falsy,o=t.next,s={};return s.truthy=C.isContainerCoincident(e,n),s.falsy=C.isContainerCoincident(e,i),s.next=C.isContainerCoincident(e,o),s}},{key:"_getContainerPositions",value:function(){return{truthy:this._containers.truthy?this._containers.truthy.getBoundingClientRect():null,falsy:this._containers.falsy?this._containers.falsy.getBoundingClientRect():null,next:this._containers.next?this._containers.next.getBoundingClientRect():null}}},{key:"setPermissions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.merge(this._addElements,e),this._addElements.truthy||this.removeTruthy(),this._addElements.falsy||this.removeFalsy(),this._addElements.next||this.removeNext()}}])&&x(t.prototype,n),i&&x(t,i),e}(),N=n(0);function O(e){e.preventDefault()}document.body.addEventListener("touchstart",O,{passive:!1}),document.body.addEventListener("touchend",O,{passive:!1}),document.body.addEventListener("touchmove",O,{passive:!1});var M=new W("event",{attributes:{class:"event",style:{left:"20px",top:"20px"}}}),P=new W("function",{attributes:{class:"function",style:{left:"180px",top:"20px"}}}),R=new W("truthyFalsyBlock",{attributes:{class:"truthyFalsyBlock",style:{left:"20px",top:"90px"}}}),D=new W("truthyBlock",{attributes:{class:"truthyBlock",style:{left:"180px",top:"90px"}},fitting:{next:!1}}),z=new W("statement",{attributes:{class:"statement",style:{left:"180px",top:"200px"}}});document.body.innerHTML='<div class="build-container"><span class="build">Build date</span>'+'<span class="date">'.concat(N.a,"</span></div>"),document.body.appendChild(z.getDOMNode()),document.body.appendChild(M.getDOMNode()),document.body.appendChild(P.getDOMNode()),document.body.appendChild(D.getDOMNode()),document.body.appendChild(R.getDOMNode())}]);